



<svg class="shapeCanvas"
  (mousedown)="startDrawingMouse($event)" 
  (mousemove)="keepDrawingMouse($event)"
  (mouseup)="stopDrawingMouse()"
  (touchstart)="startDrawingTouch($event)" 
  (touchmove)="keepDrawingTouch($event)"
  (touchend)="stopDrawingTouch()"  
  >

  <ng-container *ngFor="let shape of shapesToDraw">

    <!--Branch or Bus-->
    <svg *ngIf="shape.type=='bus' || shape.type=='branch'" >

      <!--Selected-->
      <svg *ngIf="shape==(selectedShape)"   class="selected"
      [attr.height]="shape.hOuter" [attr.width]="shape.wOuter"
      [attr.x]="shape.xOuter" [attr.y]="shape.yOuter"> 
      <rect [attr.stroke-width]="1" 
        [attr.width]="shape.wOuter" [attr.height]="shape.hOuter"/>
      </svg>

      <rect 
        [attr.x]="shape.xInner" 
        [attr.y]="shape.yInner" 
        [attr.width]="shape.wInner"
        [attr.height]="shape.hInner"
        [attr.rx]="8" /> 
    </svg>

    <!--Gen-->
    <svg class="path" *ngIf="shape.type=='gen'">

      <!--Selected-->
      <svg *ngIf="shape==(selectedShape)" class="selected" 
      [attr.height]="shape.hOuter" [attr.width]="shape.wOuter"
      [attr.x]="shape.xOuter" [attr.y]="shape.yOuter"> 
        <rect [attr.width]="shape.wOuter" [attr.height]="shape.hOuter"/>
      </svg>

      <svg      
      [attr.height]="shape.hInner" [attr.width]="shape.wInner"
      [attr.x]="shape.xInner" [attr.y]="shape.yInner"> 
      
      <!--For a stroke width of 3-->
      <circle [attr.cx]="shape.wInner/2" [attr.cy]="shape.wInner/2" [attr.r]="shape.wInner/2 - 3/2"/>
      <line [attr.x1]="shape.wInner/2" [attr.y1]="shape.wInner - 3"
            [attr.x2]="shape.wInner/2" [attr.y2]="shape.hInner"/>
      <path [attr.d]="shape.path1"/>
      <path [attr.d]="shape.path2"/>

 

      </svg>  
    </svg>
  </ng-container>

</svg>

<section>
  <div class="button-row">
    <button class="noselect" mat-raised-button (click)="addElement('bus')">Bus</button>
    <button class="noselect" mat-raised-button (click)="addElement('branch')">Branch</button>
    <button class="noselect" mat-raised-button (click)="addElement('gen')">Gen</button>
    <button class="noselect" mat-raised-button (click)="addElement('load')">Load</button>
  </div>
</section>


